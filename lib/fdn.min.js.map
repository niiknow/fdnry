{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///fdn.min.js","webpack:///webpack/bootstrap d3d12fa595355ba13772","webpack:///./src/index.js","webpack:///external \"jQuery\"","webpack:///./src/feedinary.js","webpack:///./src/util.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_jquery","_jquery2","_feedinary","_feedinary2","fdn","each","i","e","data","k","v","indexOf","opts","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_util","_util2","Feedinary","config","channel","url","header","footer","css","client","theme","injectStyles","rule","rulez","$div","appendTo","type","ut","request","name","content","that","cancel","myName","toLowerCase","el","onBeforeRender","cache","html","pi","split","vs","replace","Date","getTime","desc","onAfterRender","renderContent","getContent","then","JSON","parse","Util","method","ajax"],"mappings":"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","file":"fdn.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fdn\", [\"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fdn\"] = factory(require(\"jQuery\"));\n\telse\n\t\troot[\"fdn\"] = factory(root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fdn\", [\"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fdn\"] = factory(require(\"jQuery\"));\n\telse\n\t\troot[\"fdn\"] = factory(root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _feedinary = __webpack_require__(2);\n\t\n\tvar _feedinary2 = _interopRequireDefault(_feedinary);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar fdn = new _feedinary2.default();\n\t\n\t(0, _jquery2.default)(\"script[src*='/fdn.']\").each(function (i, e) {\n\t  var data = (0, _jquery2.default)(e).data();\n\t\n\t  _jquery2.default.each(data, function (k, v) {\n\t    if (['client', 'theme', 'name', 'url'].indexOf(k) > 0) {\n\t      if (typeof v === 'string') {\n\t        fdn.opts[k] = v;\n\t      }\n\t    }\n\t  });\n\t});\n\t\n\texports.default = fdn;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Feedinary = function () {\n\t  function Feedinary() {\n\t    _classCallCheck(this, Feedinary);\n\t\n\t    this.config = {\n\t      channel: 'homepage',\n\t      url: 'http://localhost:3000/api/',\n\t      header: '<div class=\"fdn-content\">',\n\t      footer: '',\n\t      css: '<style>\\n  .fdn-content:hover {\\n    transform: scale(1.2);\\n  }\\n</style>\\n'\n\t    };\n\t  }\n\t\n\t  _createClass(Feedinary, [{\n\t    key: 'init',\n\t    value: function init(client, theme, channel, url) {\n\t      this.config.client = client || this.config.client;\n\t      this.config.theme = theme || this.config.theme;\n\t      this.config.channel = channel || this.config.channel;\n\t      this.config.url = url || this.config.url;\n\t      this.injectStyles('fdn');\n\t    }\n\t  }, {\n\t    key: 'injectStyles',\n\t    value: function injectStyles(id, rule) {\n\t      var rulez = rule || this.config.css;\n\t\n\t      if ((0, _jquery2.default)('stylez_' + id).length <= 0) {\n\t        var $div = '<div id=\"stylez_' + id + '\"><style>' + rulez + '</style></div>';\n\t\n\t        (0, _jquery2.default)($div).appendTo('body');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getContent',\n\t    value: function getContent(opts) {\n\t      opts.url = opts.url || this.opts.url;\n\t      opts.data.client = this.opts.client;\n\t      opts.data.type = 'content';\n\t      opts.data.channel = this.opts.channel;\n\t      if (this.config.theme) {\n\t        opts.data.theme = opts.data.theme || this.config.theme;\n\t      }\n\t\n\t      var ut = new _util2.default();\n\t\n\t      return ut.request(opts);\n\t    }\n\t  }, {\n\t    key: 'renderContent',\n\t    value: function renderContent(name, content) {\n\t      var that = this;\n\t      var cancel = false;\n\t      var myName = name.toLowerCase();\n\t\n\t      // find the destination element, quit if not found\n\t      var el = (0, _jquery2.default)('[data-fdn-name=\\'' + myName + '\\']');\n\t\n\t      if (el.length < 0) {\n\t        return;\n\t      }\n\t\n\t      if (this.onBeforeRender) {\n\t        cancel = this.onBeforeRender(myName, content);\n\t      }\n\t\n\t      if (!cancel) {\n\t        // get the content\n\t        content = content || (this.cache || {})[myName];\n\t\n\t        // build the header\n\t        var html = '' + that.config.header;\n\t        var pi = (content.pi || '').split(',');\n\t\n\t        // build impression pixel tracking\n\t        _jquery2.default.each(pi, function (k, v) {\n\t          if (v.length > 5) {\n\t            var vs = v;\n\t\n\t            if (v.indexOf('[[') > 0) {\n\t              vs = vs.replace('[[client]]', that.config.client);\n\t              vs = vs.replace('[[channel]]', that.config.channel);\n\t              vs = vs.replace('[[nc]]', new Date().getTime());\n\t              vs = vs.replace('[[name]]', myName);\n\t            }\n\t\n\t            html += '<img class=\"fdn-pi\" width=\"1\" height=\"1\" border=\"0\" src=\"' + vs + '\" />';\n\t          }\n\t        });\n\t\n\t        html += '<div class=\"fdn-desc\">' + content.desc + '</div>' + that.config.footer + '</div>';\n\t        el.html('').html(html || '');\n\t      }\n\t\n\t      // trigger on after render\n\t      if (this.onAfterRender) {\n\t        this.onAfterRender(myName, content);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render(name) {\n\t      var that = this;\n\t\n\t      if (!that.cache) {\n\t        that.getContent({\n\t          data: { channel: that.config.channel }\n\t        }).then(function (data) {\n\t          if (typeof data === 'undefined') {\n\t            // do nothing\n\t            that.cache = {};\n\t          } else if (typeof data === 'string' && data.indexOf('{') > 0) {\n\t            that.cache = JSON.parse(data);\n\t          } else {\n\t            that.cache = data;\n\t          }\n\t          if (name) {\n\t            that.renderContent(name);\n\t          } else {\n\t            // loop through and render content\n\t            for (var k in that.cache) {\n\t              that.renderContent(k);\n\t            }\n\t          }\n\t        });\n\t      } else {\n\t        if (name) {\n\t          that.renderContent(name);\n\t        } else {\n\t          // loop through and render content\n\t          for (var k in that.cache) {\n\t            that.renderContent(k);\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Feedinary;\n\t}();\n\t\n\texports.default = Feedinary;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Util = function () {\n\t  function Util() {\n\t    _classCallCheck(this, Util);\n\t  }\n\t\n\t  /**\n\t   * make request\n\t   * @param  {[type]} method  method\n\t   * @param  {[type]} url     url\n\t   * @param  {[type]} headers header object\n\t   * @param  {[type]} body    body object\n\t   * @param  {String} type    response type\n\t   * @return {[type]}         a promise\n\t   */\n\t\n\t\n\t  _createClass(Util, [{\n\t    key: 'request',\n\t    value: function request(opts) {\n\t      opts.method = opts.method || 'get';\n\t      return _jquery2.default.ajax(opts.url, opts);\n\t    }\n\t  }]);\n\t\n\t  return Util;\n\t}();\n\t\n\texports.default = Util;\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** fdn.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d3d12fa595355ba13772\n **/","import $ from 'jquery';\nimport Feedinary from './feedinary';\n\nlet fdn = new Feedinary();\n\n$(\"script[src*='/fdn.']\").each((i, e) => {\n  let data = $(e).data();\n\n  $.each(data, (k, v) => {\n    if (['client', 'theme', 'name', 'url'].indexOf(k) > 0) {\n      if (typeof (v) === 'string') {\n        fdn.opts[k] = v;\n      }\n    }\n  });\n});\n\nexport default fdn;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 1\n ** module chunks = 0\n **/","import $ from 'jquery';\nimport Util from './util';\n\nexport default class Feedinary {\n  constructor() {\n    this.config = {\n      channel: 'homepage',\n      url: 'http://localhost:3000/api/',\n      header: '<div class=\"fdn-content\">',\n      footer: '',\n      css: `<style>\n  .fdn-content:hover {\n    transform: scale(1.2);\n  }\n</style>\n`\n    };\n  }\n\n  init(client, theme, channel, url) {\n    this.config.client = client || this.config.client;\n    this.config.theme = theme || this.config.theme;\n    this.config.channel = channel || this.config.channel;\n    this.config.url = url || this.config.url;\n    this.injectStyles('fdn');\n  }\n\n  injectStyles(id, rule) {\n    let rulez = rule || this.config.css;\n\n    if ($(`stylez_${id}`).length <= 0) {\n      let $div = `<div id=\"stylez_${id}\"><style>${rulez}</style></div>`;\n\n      $($div).appendTo('body');\n    }\n  }\n\n  getContent(opts) {\n    opts.url = opts.url || this.opts.url;\n    opts.data.client = this.opts.client;\n    opts.data.type = 'content';\n    opts.data.channel = this.opts.channel;\n    if (this.config.theme) {\n      opts.data.theme = opts.data.theme || this.config.theme;\n    }\n\n    let ut = new Util();\n\n    return ut.request(opts);\n  }\n\n  renderContent(name, content) {\n    let that = this;\n    let cancel = false;\n    let myName = name.toLowerCase();\n\n    // find the destination element, quit if not found\n    let el = $(`[data-fdn-name='${myName}']`);\n\n    if (el.length < 0) {\n      return;\n    }\n\n    if (this.onBeforeRender) {\n      cancel = this.onBeforeRender(myName, content);\n    }\n\n    if (!cancel) {\n      // get the content\n      content = content || (this.cache || {})[myName];\n\n      // build the header\n      let html = `${that.config.header}`;\n      let pi = (content.pi || '').split(',');\n\n      // build impression pixel tracking\n      $.each(pi, (k, v) => {\n        if (v.length > 5) {\n          let vs = v;\n\n          if (v.indexOf('[[') > 0) {\n            vs = vs.replace('[[client]]', that.config.client);\n            vs = vs.replace('[[channel]]', that.config.channel);\n            vs = vs.replace('[[nc]]', new Date().getTime());\n            vs = vs.replace('[[name]]', myName);\n          }\n\n          html += `<img class=\"fdn-pi\" width=\"1\" height=\"1\" border=\"0\" src=\"${vs}\" />`;\n        }\n      });\n\n      html += `<div class=\"fdn-desc\">${content.desc}</div>${that.config.footer}</div>`;\n      el.html('').html(html || '');\n    }\n\n    // trigger on after render\n    if (this.onAfterRender) {\n      this.onAfterRender(myName, content);\n    }\n  }\n\n  render(name) {\n    let that = this;\n\n    if (!that.cache) {\n      that.getContent({\n        data: { channel: that.config.channel }\n      }).then((data) => {\n        if (typeof (data) === 'undefined') {\n          // do nothing\n          that.cache = {};\n        } else if (typeof (data) === 'string' && data.indexOf('{') > 0) {\n          that.cache = JSON.parse(data);\n        } else {\n          that.cache = data;\n        }\n        if (name) {\n          that.renderContent(name);\n        } else {\n          // loop through and render content\n          for (let k in that.cache) {\n            that.renderContent(k);\n          }\n        }\n      });\n    } else {\n      if (name) {\n        that.renderContent(name);\n      } else {\n        // loop through and render content\n        for (let k in that.cache) {\n          that.renderContent(k);\n        }\n      }\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/feedinary.js\n **/","import $ from 'jquery';\n\nexport default class Util {\n  constructor() {}\n\n  /**\n   * make request\n   * @param  {[type]} method  method\n   * @param  {[type]} url     url\n   * @param  {[type]} headers header object\n   * @param  {[type]} body    body object\n   * @param  {String} type    response type\n   * @return {[type]}         a promise\n   */\n  request(opts) {\n    opts.method = opts.method || 'get';\n    return $.ajax(opts.url, opts);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/util.js\n **/"],"sourceRoot":""}